<template>
  <div class="register">
    <!-- 顶部信息 -->
    <div class="registerTop">
      <div>{{ DeatilStore.workdate.hospital }}</div>
      <div>|</div>
      <div>{{ DeatilStore.workdate.type }}</div>
      <div>·</div>
      <div>{{ DeatilStore.workdate.department }}</div>
    </div>
    <!-- 放号时间 -->
    <div class="registerTitle">2023年06月</div>
    <div class="registerContent">
      <div
        class="item"
        v-for="(item, index) in DeatilStore.workdate.work"
        :key="index"
        :class="item.availableNumber === 1 ? 'active' : ''"
      >
        <div class="itemTop">{{ item.workDateMd }} {{ item.dayOfWeek }}</div>
        <div class="itemBot">
          <div v-if="item.status === 1">
            <div v-if="item.availableNumber === 1">可约</div>
            <div v-else>已经约满</div>
          </div>
          <div v-else-if="item.status === 0">无号</div>
          <div v-else-if="item.status === -1">即将放号</div>
        </div>
      </div>
    </div>
    <el-pagination
      :page-size="10"
      :pager-count="10"
      layout="prev, pager, next"
      :total="20"
    />
    <!-- 放号信息 -->
    <div class="detaill">
      <!-- 放号信息具体时间 -->
      <div class="time"><span>2024-02-08 08:30:00</span> 放号</div>
      <!-- 号源信息 -->
      <div class="morning">
        <div class="title">
          <svg
            t="1707310739789"
            class="icon"
            viewBox="0 0 1024 1024"
            version="1.1"
            xmlns="http://www.w3.org/2000/svg"
            p-id="5626"
            width="32"
            height="32"
          >
            <path
              d="M752.41931153 240.7063601c8.36993432 0 15.62255883 3.08990502 21.72821045 9.16589356 6.1353147 6.08093262 9.18566918 13.3928833 9.18566918 21.73315382 0 8.55285621-3.05035376 15.85986352-9.18566918 21.94079614l-43.67394996 43.66900658c-5.93261719 5.97216773-13.17041016 8.95825195-21.72326709 8.95825195-8.87420678 0-16.20098901-2.98608422-22.08911085-8.75061035-5.88317847-5.87329102-8.80004906-13.2890625-8.80004906-22.14843774 0-8.54791283 2.95642114-15.75604272 8.91375732-21.72821044l43.66900659-43.67394996c6.14025879-6.07598853 13.44726539-9.16589356 21.98034668-9.16589356z m37.66223167 240.39459181h61.79809547c8.52813721 0 15.82031227 2.98608422 21.83697534 9.06207276C879.78271508 496.24395728 882.78857422 503.45208717 882.78857422 512c0 8.55285621-3.00585914 15.85986352-9.07196021 21.83697533-6.01666236 6.07598853-13.30883813 9.06207276-21.83697534 9.06207276h-61.79809547c-8.52813721 0-15.80053734-2.98608422-21.86663841-9.06207276-6.01666236-5.97711182-9.05712867-13.2890625-9.05712867-21.83697533 0-8.55285621 3.04046631-15.76098609 9.05712867-21.83697533 6.06610107-6.07598853 13.33850122-9.06207276 21.86663841-9.06207276zM512 141.21142578c8.52813721 0 15.79064917 3.08990502 21.85180688 9.06207276 6.02160645 6.08093262 9.05712867 13.3928833 9.05712867 21.83697533v61.79809546c0 8.55285621-3.03552222 15.85986352-9.0521853 21.83697534-6.06610107 6.07598853-13.32861305 9.16589356-21.85675025 9.16589355-8.53802467 0-15.80053734-3.08990502-21.86663842-9.16589355-6.01666236-5.97711182-9.0521853-13.2890625-9.05218458-21.83697534V172.11047387c0-8.44409203 3.03552222-15.76098609 9.05218458-21.83697533C496.20440674 144.3013308 503.46691871 141.21142578 512.00494408 141.21142578zM271.81304907 240.7063601c8.36499023 0 15.61267066 3.08990502 21.743042 9.16589356l43.66900659 43.67394996c6.14025879 6.07598853 9.17083764 13.38793922 9.17083764 21.72821044 0 8.55285621-3.01080323 15.86480689-9.05712938 21.83697534-6.03149391 6.08093262-13.30389404 9.06207276-21.85180617 9.06207275-8.69622827 0-16.02795386-2.98608422-21.95068359-8.85443115l-43.68383814-43.67395068c-5.97216773-5.97216773-8.92858886-13.28411842-8.92858886-22.03967284 0-8.55285621 3.00585914-15.76098609 9.07196021-21.83697462 6.01666236-5.97216773 13.30883813-9.06207276 21.85675096-9.06207276h-0.03955126z m436.93725586 436.91253615c8.36499023 0 15.60772729 2.98608422 21.72326709 9.16589355l43.67394995 43.67395067c6.1353147 6.17980933 9.18566918 13.38793922 9.18566919 21.93585205 0 8.34521461-3.05035376 15.65716529-9.18566919 21.73315382-6.1105957 6.17980933-13.35827613 9.16589356-21.72326636 9.16589356-8.52813721 0-15.84008789-2.98608422-21.98034668-9.16589356l-43.66900659-43.66900587c-5.95733618-5.87329102-8.91375732-13.1852417-8.91375732-21.73315453 0-8.55285621 3.01080323-15.86480689 9.05712866-21.94079614 6.03149391-6.07598853 13.32861305-9.16589356 21.85180689-9.16589355h-0.01977564zM512.00494408 388.40380836c-34.12243628 0-63.22192359 12.05310035-87.39239525 36.2532351-24.1358645 24.10125732-36.21368384 53.25018335-36.21368384 87.34295654 0 34.0927732 12.07782007 63.24169922 36.21368384 87.44677734C448.78796387 623.53814721 477.88250709 635.59619164 512 635.59619164c34.12243628 0 63.23181176-12.05310035 87.4072268-36.15435838C623.51837158 575.2466433 635.59619164 546.09771729 635.59619164 512c0-34.0927732-12.07782007-63.24169922-36.18896484-87.34295654C575.23181176 400.45690942 546.12243628 388.40380836 512 388.40380836zM172.12036133 481.10095191h61.79809547c8.53802467 0 15.80053734 2.98608422 21.86663841 9.06207276 6.01666236 6.08093262 9.05712867 13.2890625 9.05712867 21.83697533 0 8.55285621-3.04046631 15.85986352-9.05712867 21.83697533-6.06610107 6.07598853-13.32861305 9.06207276-21.86663841 9.06207276h-61.79809547c-8.52813721 0-15.81042481-2.98608422-21.83697534-9.06207276C144.21728492 527.85986352 141.21142578 520.54791283 141.21142578 512c0-8.55285621 3.00585914-15.76098609 9.07196021-21.83697533 6.03149391-6.07598853 13.30883813-9.06207276 21.83697534-9.06207276zM512.00494408 759.19238258c8.52813721 0 15.79064917 2.98608422 21.85180617 9.06207274 6.02160645 6.08093262 9.05712867 13.2890625 9.05712938 21.83697535v61.79809546c0 8.55285621-3.03552222 15.85986352-9.0521853 21.83697533C527.79559326 879.80249 520.53308129 882.78857422 512 882.78857422c-8.53802467 0-15.80053734-2.98608422-21.86663842-9.06207276-6.01666236-5.97711182-9.0521853-13.2890625-9.05218458-21.83697533v-61.79809546c0-8.55285621 3.03552222-15.76098609 9.05218458-21.83697534 6.06610107-6.07598853 13.32861305-9.06207276 21.86663842-9.06207275z m-196.47839379-81.57348633c8.5034182 0 15.80053734 2.98608422 21.84686279 9.16589355 6.03149391 6.08093262 9.07196021 13.3928833 9.07196021 21.94079614 0 8.44409203-3.08001685 15.65222192-9.19555664 21.72821044l-43.67394995 43.67394996c-6.10565162 6.17980933-13.34838867 9.16589356-21.72326637 9.16589356-8.54791283 0-15.84008789-2.98608422-21.85180687-8.96319533-6.07104516-6.07598853-9.0769043-13.38793922-9.0769043-21.93585205 0-8.65173364 2.95642114-15.96862769 8.92858887-21.94079614l43.68383813-43.66900658c6.10565162-6.17980933 13.44232202-9.16589356 21.95068359-9.16589355h0.03955054zM512 326.60571289c33.628052 0 64.6506958 8.34521461 93.0481565 24.81811547 28.42712378 16.69042992 50.92163109 39.1404419 67.4637456 67.56756568 16.57177758 28.32824708 24.86755347 59.32617188 24.86755347 93.00860596 0 33.68243408-8.27600098 64.68035888-24.86755347 93.10748267-16.58166504 28.32824708-39.08605981 50.77825904-67.4637456 67.4637456-28.36285424 16.58166504-59.37561059 24.82305884-93.0481565 24.82305884-33.66760254 0-64.67047143-8.24139381-93.05804468-24.81811547-28.37768578-16.69042992-50.86230492-39.14538598-67.46374487-67.46868897-16.58166504-28.42712378-24.86755347-59.42504859-24.86755348-93.10748267 0-33.68243408 8.31555152-64.68035888 24.86755348-93.00860596 16.55200195-28.42712378 39.03662109-50.87713647 67.46374487-67.56262231C447.35424828 334.94598413 478.371948 326.60571289 512 326.60571289z"
              p-id="5627"
              fill="#5e93c9"
            ></path>
          </svg>
          <p>上午号源</p>
        </div>
        <div class="center">
          <div class="item">
            <div class="left">
              <div class="item_top">
                <span>医师</span>
                <span>|</span>
              </div>
              <div class="item_center">内分泌科常见病</div>
            </div>
            <div class="right">
              <div class="price">￥100</div>
              <el-button type="primary">剩余22</el-button>
            </div>
          </div>
        </div>
      </div>
      <div class="afternoon">
        <div class="title">
          <svg
            t="1707311053095"
            class="icon"
            viewBox="0 0 1024 1024"
            version="1.1"
            xmlns="http://www.w3.org/2000/svg"
            p-id="6848"
            width="32"
            height="32"
          >
            <path
              d="M319.4 593c0-104.4 86.39999999999999-190.79999999999998 192.6-190.79999999999998 106.2 0 192.6 86.39999999999999 192.6 190.79999999999998h53.99999999999999c0-135-109.80000000000001-244.8-246.60000000000002-244.8S265.4 458 265.4 593h53.99999999999999zM816.578 257.01199999999994l37.872 38.52-103.96799999999999 102.222-37.872-38.52zM197.82799999999997 255.752l103.986 102.186-37.854 38.52-103.986-102.204zM485 152h53.99999999999999v144h-53.99999999999999zM816.2 539.0000000000001H962v53.99999999999999h-145.8zM144.8 690.1999999999999h757.8v53.99999999999999H144.8zM207.8 835.9999999999999h608.4000000000001v53.99999999999999H207.8zM62 539.0000000000001h145.8v53.99999999999999H62z"
              p-id="6849"
              fill="#5e93c9"
            ></path>
          </svg>
          <p>下午号源</p>
        </div>
      </div>
    </div>
  </div>
</template>

<script lang="ts" setup>
//@ts-ignore
import { onMounted } from "vue";

import useDeatilStore from "@/store/modules/hospitalDeatil";

// 导入token信息
import userStore from "@/store/modules/user";

let user = userStore();
let DeatilStore = useDeatilStore();

onMounted(() => {
  // 如果用户登录了, 才获取请求(虚假模拟登录, 后期修复)
  if (user.userinfo.token) {
    DeatilStore.getWork();
  }
});
</script>

<style lang="scss">
.register {
  display: flex;
  flex-direction: column;
  padding: 30px 0 0 50px;
  // 顶部信息
  .registerTop {
    display: flex;
    div {
      margin-right: 10px;
    }
  }
  // 放号时间
  .registerTitle {
    margin-top: 50px;
    font-weight: 600;
    text-align: center;
  }
  .registerContent {
    text-align: center;
    width: 100%;
    display: flex;
    justify-content: space-between;
    .item {
      flex: 1;
      margin: 30px 20px 0 0;
      display: flex;
      flex-direction: column;
      border: 2px solid #ccc;
      .itemTop {
        padding: 10px;
        font-weight: 600;
        font-size: 14px;
        background-color: #cccccc;
      }
      .itemBot {
        font-size: 16px;
        line-height: 50px;
      }
    }
    .item:hover {
      cursor: pointer;
      transform: scale(1.1);
      border: 2px solid #ccc;
    }
  }

  .el-pagination {
    margin-top: 10px;
    display: flex;
    justify-content: center;
  }

  .active {
    .itemTop {
      background-color: #8cbcef35 !important;
    }
    background-color: #8cbcef35;
    border: 2px solid #5993d1ad !important;
  }

  // 放号信息
  .detaill {
    .time {
      margin-top: 40px;
      text-align: center;
      font-size: 18px;
      span {
        font-weight: 600;
        color: #3096f8;
      }
    }
    .morning,
    .afternoon {
      margin-top: 20px;
      .title {
        display: flex;
        align-items: center;
        font-size: 18px;
        svg {
          margin-right: 5px;
        }
      }
      .center {
        .item {
          display: flex;
          align-content: center;
          border-bottom: 1px solid #ccc;
          margin-top: 20px;
          .left {
            width: 80%;
            .item_top {
              span {
                margin-right: 10px;
                font-size: 18px;
                color: #3096f8;
              }
            }
            .item_center {
              margin: 20px 0;
              font-size: 16px;
            }
          }
          .right {
            display: flex;
            align-items: center;
            width: 20%;
            font-size: 20px;
            .price {
              margin-right: 20px;
            }
          }
        }
      }
    }
  }
}
</style>
